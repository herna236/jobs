{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";// Updated from useHistory\nimport Alert from\"../common/Alert\";/** Login form.\n *\n * Shows form and manages update to state on changes.\n * On submission:\n * - calls login function prop\n * - redirects to /companies route\n *\n * Routes -> LoginForm -> Alert\n * Routed as /login\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoginForm(_ref){let{login}=_ref;const navigate=useNavigate();// Updated from useHistory\nconst[formData,setFormData]=useState({username:\"\",password:\"\"});const[formErrors,setFormErrors]=useState([]);console.debug(\"LoginForm\",\"login=\",typeof login,\"formData=\",formData,\"formErrors\",formErrors);/** Handle form submit:\n   *\n   * Calls login func prop and, if successful, redirect to /companies.\n   */async function handleSubmit(evt){evt.preventDefault();let result=await login(formData);if(result.success){navigate(\"/companies\");// Updated from history.push\n}else{setFormErrors(result.errors);}}/** Update form data field */function handleChange(evt){const{name,value}=evt.target;setFormData(l=>({...l,[name]:value}));}return/*#__PURE__*/_jsx(\"div\",{className:\"LoginForm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-3\",children:\"Log In\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",name:\"username\",className:\"form-control\",value:formData.username,onChange:handleChange,autoComplete:\"username\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",name:\"password\",className:\"form-control\",value:formData.password,onChange:handleChange,autoComplete:\"current-password\",required:true})]}),formErrors.length?/*#__PURE__*/_jsx(Alert,{type:\"danger\",messages:formErrors}):null,/*#__PURE__*/_jsx(\"button\",{type:\"submit\"// Ensure the button has type=\"submit\"\n,className:\"btn btn-primary float-right\",children:\"Submit\"})]})})})]})});}export default LoginForm;","map":{"version":3,"names":["React","useState","useNavigate","Alert","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","login","navigate","formData","setFormData","username","password","formErrors","setFormErrors","console","debug","handleSubmit","evt","preventDefault","result","success","errors","handleChange","name","value","target","l","className","children","onSubmit","htmlFor","id","onChange","autoComplete","required","type","length","messages"],"sources":["/Users/veronica/Desktop/react-jobly-1/frontend/src/auth/LoginForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\"; // Updated from useHistory\nimport Alert from \"../common/Alert\";\n\n/** Login form.\n *\n * Shows form and manages update to state on changes.\n * On submission:\n * - calls login function prop\n * - redirects to /companies route\n *\n * Routes -> LoginForm -> Alert\n * Routed as /login\n */\n\nfunction LoginForm({ login }) {\n  const navigate = useNavigate(); // Updated from useHistory\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const [formErrors, setFormErrors] = useState([]);\n\n  console.debug(\n      \"LoginForm\",\n      \"login=\", typeof login,\n      \"formData=\", formData,\n      \"formErrors\", formErrors,\n  );\n\n  /** Handle form submit:\n   *\n   * Calls login func prop and, if successful, redirect to /companies.\n   */\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    let result = await login(formData);\n    if (result.success) {\n      navigate(\"/companies\"); // Updated from history.push\n    } else {\n      setFormErrors(result.errors);\n    }\n  }\n\n  /** Update form data field */\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setFormData(l => ({ ...l, [name]: value }));\n  }\n\n  return (\n      <div className=\"LoginForm\">\n        <div className=\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\n          <h3 className=\"mb-3\">Log In</h3>\n\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-group\">\n                  <label htmlFor=\"username\">Username</label>\n                  <input\n                      id=\"username\"\n                      name=\"username\"\n                      className=\"form-control\"\n                      value={formData.username}\n                      onChange={handleChange}\n                      autoComplete=\"username\"\n                      required\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"password\">Password</label>\n                  <input\n                      id=\"password\"\n                      type=\"password\"\n                      name=\"password\"\n                      className=\"form-control\"\n                      value={formData.password}\n                      onChange={handleChange}\n                      autoComplete=\"current-password\"\n                      required\n                  />\n                </div>\n\n                {formErrors.length\n                    ? <Alert type=\"danger\" messages={formErrors} />\n                    : null}\n\n                <button\n                    type=\"submit\" // Ensure the button has type=\"submit\"\n                    className=\"btn btn-primary float-right\"\n                >\n                  Submit\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}\n\nexport default LoginForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}