{"ast":null,"code":"import React,{useContext,useState}from\"react\";import\"./JobCard.css\";import UserContext from\"../auth/UserContext\";/** Show limited information about a job.\n *\n * Is rendered by JobCardList to show a \"card\" for each job.\n *\n * Receives apply func prop from parent, which is called on apply.\n *\n * JobCardList -> JobCard\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function JobCard(_ref){let{id,title,salary,equity,companyName}=_ref;console.debug(\"JobCard\");const{hasAppliedToJob,applyToJob}=useContext(UserContext);const[applied,setApplied]=useState();React.useEffect(function updateAppliedStatus(){console.debug(\"JobCard useEffect updateAppliedStatus\",\"id=\",id);setApplied(hasAppliedToJob(id));},[id,hasAppliedToJob]);/** Apply for a job */async function handleApply(evt){if(hasAppliedToJob(id))return;applyToJob(id);setApplied(true);}return/*#__PURE__*/_jsxs(\"div\",{className:\"JobCard card\",children:[\" \",applied,/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"card-title\",children:title}),/*#__PURE__*/_jsx(\"p\",{children:companyName}),salary&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Salary: \",formatSalary(salary)]})}),equity!==undefined&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Equity: \",equity]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger font-weight-bold text-uppercase float-right\",onClick:handleApply,disabled:applied,children:applied?\"Applied\":\"Apply\"})]})]});}/** Render integer salary like '$1,250,343' */function formatSalary(salary){const digitsRev=[];const salaryStr=salary.toString();for(let i=salaryStr.length-1;i>=0;i--){digitsRev.push(salaryStr[i]);if(i>0&&i%3===0)digitsRev.push(\",\");}return digitsRev.reverse().join(\"\");}export default JobCard;","map":{"version":3,"names":["React","useContext","useState","UserContext","jsx","_jsx","jsxs","_jsxs","JobCard","_ref","id","title","salary","equity","companyName","console","debug","hasAppliedToJob","applyToJob","applied","setApplied","useEffect","updateAppliedStatus","handleApply","evt","className","children","formatSalary","undefined","onClick","disabled","digitsRev","salaryStr","toString","i","length","push","reverse","join"],"sources":["/Users/veronica/Desktop/react-jobly-1/frontend/src/jobs/JobCard.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport \"./JobCard.css\";\nimport UserContext from \"../auth/UserContext\";\n\n/** Show limited information about a job.\n *\n * Is rendered by JobCardList to show a \"card\" for each job.\n *\n * Receives apply func prop from parent, which is called on apply.\n *\n * JobCardList -> JobCard\n */\n\nfunction JobCard({ id, title, salary, equity, companyName }) {\n  console.debug(\"JobCard\");\n\n  const { hasAppliedToJob, applyToJob } = useContext(UserContext);\n  const [applied, setApplied] = useState();\n\n  React.useEffect(function updateAppliedStatus() {\n    console.debug(\"JobCard useEffect updateAppliedStatus\", \"id=\", id);\n\n    setApplied(hasAppliedToJob(id));\n  }, [id, hasAppliedToJob]);\n\n  /** Apply for a job */\n  async function handleApply(evt) {\n    if (hasAppliedToJob(id)) return;\n    applyToJob(id);\n    setApplied(true);\n  }\n\n  return (\n      <div className=\"JobCard card\"> {applied}\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{title}</h6>\n          <p>{companyName}</p>\n          {salary && <div><small>Salary: {formatSalary(salary)}</small></div>}\n          {equity !== undefined && <div><small>Equity: {equity}</small></div>}\n          <button\n              className=\"btn btn-danger font-weight-bold text-uppercase float-right\"\n              onClick={handleApply}\n              disabled={applied}\n          >\n            {applied ? \"Applied\" : \"Apply\"}\n          </button>\n        </div>\n      </div>\n  );\n}\n\n/** Render integer salary like '$1,250,343' */\n\nfunction formatSalary(salary) {\n  const digitsRev = [];\n  const salaryStr = salary.toString();\n\n  for (let i = salaryStr.length - 1; i >= 0; i--) {\n    digitsRev.push(salaryStr[i]);\n    if (i > 0 && i % 3 === 0) digitsRev.push(\",\");\n  }\n\n  return digitsRev.reverse().join(\"\");\n}\n\n\nexport default JobCard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,MAAO,eAAe,CACtB,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAPA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBASA,QAAS,CAAAC,OAAOA,CAAAC,IAAA,CAA6C,IAA5C,CAAEC,EAAE,CAAEC,KAAK,CAAEC,MAAM,CAAEC,MAAM,CAAEC,WAAY,CAAC,CAAAL,IAAA,CACzDM,OAAO,CAACC,KAAK,CAAC,SAAS,CAAC,CAExB,KAAM,CAAEC,eAAe,CAAEC,UAAW,CAAC,CAAGjB,UAAU,CAACE,WAAW,CAAC,CAC/D,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAExCF,KAAK,CAACqB,SAAS,CAAC,QAAS,CAAAC,mBAAmBA,CAAA,CAAG,CAC7CP,OAAO,CAACC,KAAK,CAAC,uCAAuC,CAAE,KAAK,CAAEN,EAAE,CAAC,CAEjEU,UAAU,CAACH,eAAe,CAACP,EAAE,CAAC,CAAC,CACjC,CAAC,CAAE,CAACA,EAAE,CAAEO,eAAe,CAAC,CAAC,CAEzB,sBACA,cAAe,CAAAM,WAAWA,CAACC,GAAG,CAAE,CAC9B,GAAIP,eAAe,CAACP,EAAE,CAAC,CAAE,OACzBQ,UAAU,CAACR,EAAE,CAAC,CACdU,UAAU,CAAC,IAAI,CAAC,CAClB,CAEA,mBACIb,KAAA,QAAKkB,SAAS,CAAC,cAAc,CAAAC,QAAA,EAAC,GAAC,CAACP,OAAO,cACrCZ,KAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBrB,IAAA,OAAIoB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEf,KAAK,CAAK,CAAC,cACvCN,IAAA,MAAAqB,QAAA,CAAIZ,WAAW,CAAI,CAAC,CACnBF,MAAM,eAAIP,IAAA,QAAAqB,QAAA,cAAKnB,KAAA,UAAAmB,QAAA,EAAO,UAAQ,CAACC,YAAY,CAACf,MAAM,CAAC,EAAQ,CAAC,CAAK,CAAC,CAClEC,MAAM,GAAKe,SAAS,eAAIvB,IAAA,QAAAqB,QAAA,cAAKnB,KAAA,UAAAmB,QAAA,EAAO,UAAQ,CAACb,MAAM,EAAQ,CAAC,CAAK,CAAC,cACnER,IAAA,WACIoB,SAAS,CAAC,4DAA4D,CACtEI,OAAO,CAAEN,WAAY,CACrBO,QAAQ,CAAEX,OAAQ,CAAAO,QAAA,CAEnBP,OAAO,CAAG,SAAS,CAAG,OAAO,CACxB,CAAC,EACN,CAAC,EACH,CAAC,CAEZ,CAEA,8CAEA,QAAS,CAAAQ,YAAYA,CAACf,MAAM,CAAE,CAC5B,KAAM,CAAAmB,SAAS,CAAG,EAAE,CACpB,KAAM,CAAAC,SAAS,CAAGpB,MAAM,CAACqB,QAAQ,CAAC,CAAC,CAEnC,IAAK,GAAI,CAAAC,CAAC,CAAGF,SAAS,CAACG,MAAM,CAAG,CAAC,CAAED,CAAC,EAAI,CAAC,CAAEA,CAAC,EAAE,CAAE,CAC9CH,SAAS,CAACK,IAAI,CAACJ,SAAS,CAACE,CAAC,CAAC,CAAC,CAC5B,GAAIA,CAAC,CAAG,CAAC,EAAIA,CAAC,CAAG,CAAC,GAAK,CAAC,CAAEH,SAAS,CAACK,IAAI,CAAC,GAAG,CAAC,CAC/C,CAEA,MAAO,CAAAL,SAAS,CAACM,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CACrC,CAGA,cAAe,CAAA9B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}