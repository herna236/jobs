{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";// Updated from useHistory\nimport Alert from\"../common/Alert\";/** Signup form.\n *\n * Shows form and manages update to state on changes.\n * On submission:\n * - calls signup function prop\n * - redirects to /companies route\n *\n * Routes -> SignupForm -> Alert\n * Routed as /signup\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SignupForm(_ref){let{signup}=_ref;const navigate=useNavigate();// Updated from useHistory\nconst[formData,setFormData]=useState({username:\"\",password:\"\",firstName:\"\",lastName:\"\",email:\"\"});const[formErrors,setFormErrors]=useState([]);console.debug(\"SignupForm\",\"signup=\",typeof signup,\"formData=\",formData,\"formErrors=\",formErrors);/** Handle form submit:\n   *\n   * Calls signup func prop and, if successful, redirect to /companies.\n   */async function handleSubmit(evt){evt.preventDefault();let result=await signup(formData);if(result.success){navigate(\"/companies\");// Updated from history.push\n}else{setFormErrors(result.errors);}}/** Update form data field */function handleChange(evt){const{name,value}=evt.target;setFormData(data=>({...data,[name]:value}));}return/*#__PURE__*/_jsx(\"div\",{className:\"SignupForm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",name:\"username\",className:\"form-control\",value:formData.username,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",name:\"password\",className:\"form-control\",value:formData.password,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"firstName\",name:\"firstName\",className:\"form-control\",value:formData.firstName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"lastName\",name:\"lastName\",className:\"form-control\",value:formData.lastName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",name:\"email\",className:\"form-control\",value:formData.email,onChange:handleChange})]}),formErrors.length?/*#__PURE__*/_jsx(Alert,{type:\"danger\",messages:formErrors}):null,/*#__PURE__*/_jsx(\"button\",{type:\"submit\"// Ensure the button has type=\"submit\"\n,className:\"btn btn-primary float-right\",children:\"Submit\"})]})})})]})});}export default SignupForm;","map":{"version":3,"names":["React","useState","useNavigate","Alert","jsx","_jsx","jsxs","_jsxs","SignupForm","_ref","signup","navigate","formData","setFormData","username","password","firstName","lastName","email","formErrors","setFormErrors","console","debug","handleSubmit","evt","preventDefault","result","success","errors","handleChange","name","value","target","data","className","children","onSubmit","htmlFor","id","onChange","type","length","messages"],"sources":["/Users/veronica/Desktop/react-jobly-1/frontend/src/auth/SignupForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\"; // Updated from useHistory\nimport Alert from \"../common/Alert\";\n\n/** Signup form.\n *\n * Shows form and manages update to state on changes.\n * On submission:\n * - calls signup function prop\n * - redirects to /companies route\n *\n * Routes -> SignupForm -> Alert\n * Routed as /signup\n */\n\nfunction SignupForm({ signup }) {\n  const navigate = useNavigate(); // Updated from useHistory\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n  });\n  const [formErrors, setFormErrors] = useState([]);\n\n  console.debug(\n      \"SignupForm\",\n      \"signup=\", typeof signup,\n      \"formData=\", formData,\n      \"formErrors=\", formErrors,\n  );\n\n  /** Handle form submit:\n   *\n   * Calls signup func prop and, if successful, redirect to /companies.\n   */\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    let result = await signup(formData);\n    if (result.success) {\n      navigate(\"/companies\"); // Updated from history.push\n    } else {\n      setFormErrors(result.errors);\n    }\n  }\n\n  /** Update form data field */\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setFormData(data => ({ ...data, [name]: value }));\n  }\n\n  return (\n      <div className=\"SignupForm\">\n        <div className=\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\n          <h2 className=\"mb-3\">Sign Up</h2>\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-group\">\n                  <label htmlFor=\"username\">Username</label>\n                  <input\n                      id=\"username\"\n                      name=\"username\"\n                      className=\"form-control\"\n                      value={formData.username}\n                      onChange={handleChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"password\">Password</label>\n                  <input\n                      id=\"password\"\n                      type=\"password\"\n                      name=\"password\"\n                      className=\"form-control\"\n                      value={formData.password}\n                      onChange={handleChange}\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"firstName\">First Name</label>\n                  <input\n                      id=\"firstName\"\n                      name=\"firstName\"\n                      className=\"form-control\"\n                      value={formData.firstName}\n                      onChange={handleChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"lastName\">Last Name</label>\n                  <input\n                      id=\"lastName\"\n                      name=\"lastName\"\n                      className=\"form-control\"\n                      value={formData.lastName}\n                      onChange={handleChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"email\">Email</label>\n                  <input\n                      id=\"email\"\n                      type=\"email\"\n                      name=\"email\"\n                      className=\"form-control\"\n                      value={formData.email}\n                      onChange={handleChange}\n                  />\n                </div>\n\n                {formErrors.length\n                    ? <Alert type=\"danger\" messages={formErrors} />\n                    : null\n                }\n\n                <button\n                    type=\"submit\" // Ensure the button has type=\"submit\"\n                    className=\"btn btn-primary float-right\"\n                >\n                  Submit\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}\n\nexport default SignupForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}