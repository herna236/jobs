{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import SearchForm from\"../common/SearchForm\";import JoblyApi from\"../api/api\";import CompanyCard from\"./CompanyCard\";import LoadingSpinner from\"../common/LoadingSpinner\";/** Show page with list of companies.\n *\n * On mount, loads companies from API.\n * Re-loads filtered companies on submit from search form.\n *\n * This is routed to at /companies\n *\n * Routes -> { CompanyCard, SearchForm }\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CompanyList(){console.debug(\"CompanyList\");const[companies,setCompanies]=useState(null);useEffect(function getCompaniesOnMount(){console.debug(\"CompanyList useEffect getCompaniesOnMount\");search();},[]);/** Triggered by search form submit; reloads companies. */async function search(name){let companies=await JoblyApi.getCompanies(name);setCompanies(companies);}if(!companies)return/*#__PURE__*/_jsx(LoadingSpinner,{});return/*#__PURE__*/_jsxs(\"div\",{className:\"CompanyList col-md-8 offset-md-2\",children:[/*#__PURE__*/_jsx(SearchForm,{searchFor:search}),companies.length?/*#__PURE__*/_jsx(\"div\",{className:\"CompanyList-list\",children:companies.map(c=>/*#__PURE__*/_jsx(CompanyCard,{handle:c.handle,name:c.name,description:c.description,logoUrl:c.logoUrl},c.handle))}):/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:\"Sorry, no results were found!\"})]});}export default CompanyList;","map":{"version":3,"names":["React","useState","useEffect","SearchForm","JoblyApi","CompanyCard","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","CompanyList","console","debug","companies","setCompanies","getCompaniesOnMount","search","name","getCompanies","className","children","searchFor","length","map","c","handle","description","logoUrl"],"sources":["/Users/veronica/Desktop/react-jobly-1/frontend/src/companies/CompanyList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport SearchForm from \"../common/SearchForm\";\nimport JoblyApi from \"../api/api\";\nimport CompanyCard from \"./CompanyCard\";\nimport LoadingSpinner from \"../common/LoadingSpinner\";\n\n/** Show page with list of companies.\n *\n * On mount, loads companies from API.\n * Re-loads filtered companies on submit from search form.\n *\n * This is routed to at /companies\n *\n * Routes -> { CompanyCard, SearchForm }\n */\n\nfunction CompanyList() {\n  console.debug(\"CompanyList\");\n\n  const [companies, setCompanies] = useState(null);\n\n  useEffect(function getCompaniesOnMount() {\n    console.debug(\"CompanyList useEffect getCompaniesOnMount\");\n    search();\n  }, []);\n\n  /** Triggered by search form submit; reloads companies. */\n  async function search(name) {\n    let companies = await JoblyApi.getCompanies(name);\n    setCompanies(companies);\n  }\n\n  if (!companies) return <LoadingSpinner />;\n\n  return (\n      <div className=\"CompanyList col-md-8 offset-md-2\">\n        <SearchForm searchFor={search} />\n        {companies.length\n            ? (\n                <div className=\"CompanyList-list\">\n                  {companies.map(c => (\n                      <CompanyCard\n                          key={c.handle}\n                          handle={c.handle}\n                          name={c.name}\n                          description={c.description}\n                          logoUrl={c.logoUrl}\n                      />\n                  ))}\n                </div>\n            ) : (\n                <p className=\"lead\">Sorry, no results were found!</p>\n            )}\n      </div>\n  );\n}\n\nexport default CompanyList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,UAAU,KAAM,sBAAsB,CAC7C,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,cAAc,KAAM,0BAA0B,CAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GARA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAUA,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrBC,OAAO,CAACC,KAAK,CAAC,aAAa,CAAC,CAE5B,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAEhDC,SAAS,CAAC,QAAS,CAAAc,mBAAmBA,CAAA,CAAG,CACvCJ,OAAO,CAACC,KAAK,CAAC,2CAA2C,CAAC,CAC1DI,MAAM,CAAC,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CAEN,0DACA,cAAe,CAAAA,MAAMA,CAACC,IAAI,CAAE,CAC1B,GAAI,CAAAJ,SAAS,CAAG,KAAM,CAAAV,QAAQ,CAACe,YAAY,CAACD,IAAI,CAAC,CACjDH,YAAY,CAACD,SAAS,CAAC,CACzB,CAEA,GAAI,CAACA,SAAS,CAAE,mBAAON,IAAA,CAACF,cAAc,GAAE,CAAC,CAEzC,mBACII,KAAA,QAAKU,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/Cb,IAAA,CAACL,UAAU,EAACmB,SAAS,CAAEL,MAAO,CAAE,CAAC,CAChCH,SAAS,CAACS,MAAM,cAETf,IAAA,QAAKY,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAC9BP,SAAS,CAACU,GAAG,CAACC,CAAC,eACZjB,IAAA,CAACH,WAAW,EAERqB,MAAM,CAAED,CAAC,CAACC,MAAO,CACjBR,IAAI,CAAEO,CAAC,CAACP,IAAK,CACbS,WAAW,CAAEF,CAAC,CAACE,WAAY,CAC3BC,OAAO,CAAEH,CAAC,CAACG,OAAQ,EAJdH,CAAC,CAACC,MAKV,CACJ,CAAC,CACC,CAAC,cAENlB,IAAA,MAAGY,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,+BAA6B,CAAG,CACvD,EACF,CAAC,CAEZ,CAEA,cAAe,CAAAV,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}